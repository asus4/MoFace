//- Variables
- var title = 'MoFace'
- var description = 'TODO description '
- var keyColor = '#ed3a24'

//- HTML
doctype html
html(lang='ja')
  meta(charset='utf-8')
  //- Meta for compatibility
  meta(name='viewport', content='initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no')
  meta(http-equiv='X-UA-Compatible', content='IE=edge')
  meta(name='description' content='A director and film maker with the Tokyo visual design studio Tangram.')
  //- icons
  link(rel='apple-touch-icon', sizes='180x180', href='https://invisiresouce.s3.amazonaws.com/cms/asset/img/f/apple-touch-icon.png')
  link(rel='icon', type='image/png', href='https://invisiresouce.s3.amazonaws.com/cms/asset/img/f/favicon-32x32.png', sizes='32x32')
  link(rel='icon', type='image/png', href='https://invisiresouce.s3.amazonaws.com/cms/asset/img/f/favicon-16x16.png', sizes='16x16')
  link(rel='manifest', href='https://invisiresouce.s3.amazonaws.com/cms/asset/img/f/manifest.json')
  link(rel='mask-icon', href='https://invisiresouce.s3.amazonaws.com/cms/asset/img/f/safari-pinned-tab.svg', color='#000000')
  meta(name='theme-color', content='#FFFFFF')
  //- keywords
  meta(name='keywords' content='MoFace, invisible designs lab, インビジブル・デザインズ・ラボ, インビジブルデザインズラボ, invisi, インビジ, Z-MACHINES x SQUAREPUSHER, TOUCH WOOD, 森の木琴, WATER ROCK, 松尾謙二郎')
  title #{title}
  meta(name='description' content='#{description}')
  //- og
  meta(property='og:title' content='#{title}')
  meta(property='og:description' content='#{description}')
  meta(property='og:image' content='https://invisi.jp/cms/wp-content/themes/idl/asset/img/fb.png')
  meta(property='og:site_name' content='TODO site name')
  //- css
  link(href='https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css' rel='stylesheet')
  link(href='https://fonts.googleapis.com/css?family=Questrial' rel='stylesheet')
  link(rel='stylesheet', href='main.css')
body
  #app-morph
    .grid(v-if='!isMobile')
      //- cross
      svg(width='29px' height='29px' style='top:0; left:0;')
        path(d='M15 0L15 29M0 15L29 15')
      svg(width='29px' height='29px' style='top:0; right:0;')
        path(d='M15 0L15 29M0 15L29 15')
      svg(width='29px' height='29px' style='bottom:0; left:0;')
        path(d='M15 0L15 29M0 15L29 15')
      svg(width='29px' height='29px' style='bottom:0; right:0;')
        path(d='M15 0L15 29M0 15L29 15')
      //- line
      svg(width='29px' height='120px' style='left:0; top:50%; transform:translate(0, -60px);')
        path(d='M15 0L15 120')
      svg(width='29px' height='120px' style='right:0; top:50%; transform:translate(0, -60px);')
        path(d='M15 0L15 120')
      svg(width='120px' height='29px' style='left:50%; top:0; transform:translate(-60px, 0);')
        path(d='M0 15L120 15')
      svg(width='120px' height='29px' style='left:50%; bottom:0; transform:translate(-60px, 0);')
        path(d='M0 15L120 15')

    #main(v-bind:class="{ 'mobile':isMobile, 'pc':!isMobile }")
      canvas.webgl
      transition(appear
        v-on:appear='keyboard.drawGrids($event)'
        v-on:enter='keyboard.drawGrids($event)'
      )
        canvas.ui(
          v-if='speakMode && isMobile'
          v-on:touchstart='keyboard.onTouch($event, true)'
          v-on:touchmove='keyboard.onTouch($event, false)'
        )
    //- Navi mobile
    nav.mobile(v-if='isMobile' v-bind:class="{ 'text-mode':!speakMode }")
      a#info-button.button(v-on:click='infoShowClick(true)')
      a#makeface-button.button(v-on:click='makeFaceClick')
      a#mode-button(v-on:click='speakMode = !speakMode')
        span {{speakMode ? 'speak' : 'text'}}
    //- Navi PC
    nav.pc(v-if='!isMobile') 
      .center
        h1.futura MoFace
      .right.futura.button(v-on:click='infoShowClick(true)') HOW TO PLAY
      .left.button(v-on:click='makeFaceClick')
    //- Footer
    footer(v-if='!speakMode || !isMobile')
      .mode.pc-only
        .button Edit Text
        .button Play Text
      .mode.mobile-only
        .hbox
          .input-log
          input#kana-input.input-log(
            type='text' name='message'
            ref='kanaInput'
            v-on:input='ime.onInput'
            v-on:change='ime.onChange'
          )
        .button.keyboard(v-on:click='$refs.kanaInput.focus()')
      .share
        span.pc-only share
        a.icon.facebook(v-on:click='shareFacebookClick')
        span |
        a.icon.twitter(v-on:click='shareTwitterClick')
      .copyright.pc-only Copyright © 2018 invisible designs lab, All rights reserved.

    //- Info Page
    include pages/info
    include pages/makeface
  include pages/loading

  script(src='bundle.js')
